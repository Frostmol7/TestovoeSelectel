# loglint — линтер для проверки лог-записей на Golang

Линтер проверяет лог-записи в коде на соответствие правилам оформления.

## Содержание
- [Правила](#правила)
- [Установка](#установка)
- [Использование](#использование)
- [Примеры](#примеры)
- [Тесты](#тесты)
- [CI/CD](#cicd)
- [Структура проекта](#структура-проекта)
- [Поддерживаемые логгеры](#поддерживаемые-логгеры)
- [Лицензия](#лицензия)
---

## Правила

Линтер проверяет 4 правила для лог-записей:
### Правило 1: Строчная буква в начале
Сообщение должно начинаться со строчной буквы.
- ❌ Неправильно: `slog.Info("Starting server")`
- ✅ Правильно: `slog.Info("starting server")`

### Правило 2: Только английский язык
Сообщение должно быть на английском языке.
- ❌ Неправильно: `log.Info("zapusk servera")`
- ✅ Правильно: `log.Info("server started")`

### Правило 3: Нет спецсимволов и эмодзи
Разрешены только буквы, цифры и базовая пунктуация.
- ❌ Неправильно: `slog.Info("started!")`
- ✅ Правильно: `slog.Info("server started")`

### Правило 4: Нет чувствительных данных
Нельзя указывать пароли, токены, ключи.
- ❌ Неправильно: `log.Info("password: secret")`
- ✅ Правильно: `log.Info("user authenticated")`

---
## Установка
Требования:
- Go 1.24 или выше
- golang.org/x/tools

Сборка:
go build -o loglint.exe ./cmd/loglint
---

## Использование
Проверка всего проекта:
./loglint.exe ./...

Проверка конкретного файла:
./loglint.exe path/to/file.go
---

## Примеры
### С ошибками:
    slog.Info("Starting")  // ошибка: заглавная буква
    log.Info("zapusk")     // ошибка: русский текст
    slog.Info("started!")  // ошибка: спецсимволы
    log.Info("password")   // ошибка: чувствительные данные

### Исправлено:
    slog.Info("starting")
    log.Info("started")

---

## Тесты
Запуск всех тестов:
go test ./pkg/analyzer/... -v

Запуск с покрытием:
go test ./pkg/analyzer/... -cover
---

## CI/CD
Проект использует GitHub Actions для автоматической сборки и тестирования.
При каждом push или pull request:
1. ✅ Устанавливается Go 1.24
2. ✅ Загружаются зависимости
3. ✅ Собирается линтер
4. ✅ Запускаются тесты

Конфигурация: `.github/workflows/ci.yml`
---

## Структура проекта
TestovoeSelectel/
├── .github/workflows/ci.yml    # CI/CD конфигурация   
├── cmd/loglint/main.go         # Точка входа   
├── pkg/analyzer/      
│   ├── analyzer.go             # Основной код   
│   ├── analyzer_test.go        # Интеграционный тест   
│   └── testdata/testdata.go    # Тестовые данные   
├── .gitignore   
├── go.mod   
├── go.sum   
└── README.md   

---

## Поддерживаемые логгеры
| Логгер | Пример |
|--------|--------|
| log/slog | `slog.Info("msg")` |
| go.uber.org/zap | `logger.Info("msg")` |
| log | `log.Println("msg")` |
 ---
 
 ## Лицензия
 Проект создан в учебных целях.